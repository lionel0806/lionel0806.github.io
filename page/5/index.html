<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Lionel&#39;Blog</title>
  <link rel="alternate" hreflang="zh-cn" href="http://lionel0806.github.io/" />

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Lionel Lee" />
  <meta name="description" content="总结、沉淀、分享" />
  <meta name="keywords" content="分享, 技术, 生活" />






<meta name="generator" content="Hugo 0.45" />


<link rel="canonical" href="http://lionel0806.github.io/" />
<link href="http://lionel0806.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Lionel&#39;Blog" />



<link rel="icon" href="/favicon.ico" />










<link href="/dist/jane.min.css?v=2.7.0" rel="stylesheet">




<meta property="og:title" content="Lionel&#39;Blog" />
<meta property="og:description" content="总结、沉淀、分享" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://lionel0806.github.io/" />



<meta property="og:updated_time" content="2014-04-26T00:00:00&#43;00:00"/>










<meta itemprop="name" content="Lionel&#39;Blog">
<meta itemprop="description" content="总结、沉淀、分享">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Lionel&#39;Blog"/>
<meta name="twitter:description" content="总结、沉淀、分享"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Lionel</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://lionel0806.github.io/">Home</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://lionel0806.github.io/post/">Archives</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://lionel0806.github.io/tags/">Tags</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://lionel0806.github.io/categories/">Categories</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://lionel0806.github.io/about/">About</a>
          
        
      </li>
    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Lionel
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
      <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://lionel0806.github.io/">Home</a>
          

        

      </li>
    
      <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://lionel0806.github.io/post/">Archives</a>
          

        

      </li>
    
      <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://lionel0806.github.io/tags/">Tags</a>
          

        

      </li>
    
      <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://lionel0806.github.io/categories/">Categories</a>
          

        

      </li>
    
      <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://lionel0806.github.io/about/">About</a>
          

        

      </li>
    
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          
  <section id="posts" class="posts">
    
    
    
      <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2014-04-26-install-archlinux/">安装archlinux</a></h1>
    
    <div class="post-meta">
      <span class="post-time"> 2014-04-26 </span>
      
      <span class="more-meta"> 约 2559 字 </span>
      <span class="more-meta"> 预计阅读 6 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      <p>活着就是为了折腾，Ubuntu已经用了4年多了吧，从最近几年看来，ubuntu的发展目的是要面向大众化，由于要适合大众，所以他的操作更简单，图形界面更美观，这就导致它越来越笨重。对于一个追求速度，喜欢命令模式的程序猿，ubuntu已然不能满足我的要求，所以安装archlinux的想法产生了，活着不就是为了折腾嘛，于是一步一步定制专属自己的linux系统。</p>

<p>1.下载archlinux镜像文件
2.制作usb安装盘</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">     # dd bs=4M if=&lt;/archlinux-2014.04.01-dual.iso/的/路径&gt; of=/dev/&lt;U盘文件&gt; &amp;&amp; sync</pre></td></tr></table>
</div>
</div>
<p>3.从U盘启动选择Boot Arch Linux
4.配置安装
 1)连接网络
   有线连接：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">     # dhcpcd</pre></td></tr></table>
</div>
</div>
<p>无线连接：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">     # wifi-menu</pre></td></tr></table>
</div>
</div>
<p>ADSL 宽带连接：
   配置：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">     # pppoe-setup</pre></td></tr></table>
</div>
</div>
<p>连接：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">     # systemctl start adsl</pre></td></tr></table>
</div>
</div>
<p>2)选择软件源</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></pre></td>
<td class="lntd">
<pre class="chroma">     # vi /etc/pacman.d/mirrorlist

 更新本地数据库：

     # pacman -Syy</pre></td></tr></table>
</div>
</div>
<p>5.分区
   1)分区方案：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></pre></td>
<td class="lntd">
<pre class="chroma"> $ lsblk /dev/sda -o NAME,FSTYPE,SIZE,MOUNTPOINT
   NAME   FSTYPE   SIZE MOUNTPOINT
   sda           120G 
   ├─sda1 ext4    36G /
   ├─sda2 ext4    80G /home
   └─sda3 swap     4G [SWAP]</pre></td></tr></table>
</div>
</div>
<p>注意：swap分区大小建议等于或两倍于内存。
   2)分区：
      MBR 分区：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></pre></td>
<td class="lntd">
<pre class="chroma">     # cfdisk /dev/sda

  GPT 分区：

     # cgdisk /dev/sda</pre></td></tr></table>
</div>
</div>
<p>6.创建文件系统：
   创建 ext4 分区：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">     # mkfs.ext4 /dev/sda1
     # mkfs.ext4 /dev/sda2</pre></td></tr></table>
</div>
</div>
<p>创建并激活 swap 分区：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">     # mkswap /dev/sda3
     # swapon /dev/sda3</pre></td></tr></table>
</div>
</div>
<p>7.系统安装
   1)挂载分区：
       挂在 / 分区：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></pre></td>
<td class="lntd">
<pre class="chroma">     # mount /dev/sda? /mnt

   挂在home分区：

     # mkdir /mnt/home
     # mount /dev/sda?  /mnt/home</pre></td></tr></table>
</div>
</div>
<p>2)安装基础系统：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">     # pacstrap -i /mnt base</pre></td></tr></table>
</div>
</div>
<p>3)生成fstab</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">    # genfstab -U -p /mnt &gt;&gt; /mnt/etc/fstab</pre></td></tr></table>
</div>
</div>
<p>8.进入新系统</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">    # arch-chroot /mnt /bin/bash</pre></td></tr></table>
</div>
</div>
<p>9.配置local</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span></pre></td>
<td class="lntd">
<pre class="chroma">1）编辑/etc/locale.gen，移除需要的行前的 #：

    # vi /etc/locale.gen

  简体中文用户，可移除下列行前的 # ：

    #zh_CN.UTF-8 UTF-8 

2)更新设置：

    # locale-gen

3)设置默认语言

    # echo LANG=&lt;语言&gt;  &gt; /etc/locale.conf

4)简体中文用户可执行：

    # echo LANG=zh_CN.UTF-8  &gt; /etc/locale.conf

5)时区

查看时区：
时区：

      # ls /usr/share/zoneinfo/

子时区：

      # ls /usr/share/zoneinfo/&lt;时区&gt;/

设置时区：

      # ln -s /usr/share/zoneinfo/&lt;时区&gt;/&lt;子时区&gt; /etc/localtime

中国大陆用户可执行：

      # ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime

6)硬件时间：

推荐）使用UTC时间：

      # hwclock --systohc --utc

 使用本地时间：

  !__ 使用本地时间可能会引起某些不可修复的bug。

     # hwclock --systohc --localtime</pre></td></tr></table>
</div>
</div>
<p>10.创建 ramdisk 环境</p>

<p>（可选）配置</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">       # vi /etc/mkinitcpio.conf</pre></td></tr></table>
</div>
</div>
<p>创建：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">       # mkinitcpio -p linux</pre></td></tr></table>
</div>
</div>
<p>11.为 root 用户设置密码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">       # passwd</pre></td></tr></table>
</div>
</div>
<ol>
<li><p>安装Grub引导器</p>

<p>1)安装 BIOS + MBR：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">   # pacman -S grub
   # grub-install --target=i386-pc --recheck /dev/sda</pre></td></tr></table>
</div>
</div>
<p>2）生成配置文件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">    # grub-mkconfig -o /boot/grub/grub.cfg</pre></td></tr></table>
</div>
</div>
<p>3）欲引导其他系统，如 Windows ，可执行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">     # pacman -S os-prober
     # grub-mkconfig -o /boot/grub/grub.cfg</pre></td></tr></table>
</div>
</div></li>

<li><p>退出安装环境</p></li>
</ol>

<p>退回安装环境</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">          # exit</pre></td></tr></table>
</div>
</div>
<p>卸载新分区</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">          # umount -R /mnt</pre></td></tr></table>
</div>
</div>
<p>重启
              # reboot</p>

<ol>
<li><p>用户管理</p>

<p>1）添加一个典型的桌面用户：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">   #  useradd -m -g users -G wheel -s /bin/bash &lt;用户名&gt;</pre></td></tr></table>
</div>
</div>
<p>2）设置密码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">    # passwd &lt;用户名&gt;</pre></td></tr></table>
</div>
</div>
<p>4)配置 sudo:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></pre></td>
<td class="lntd">
<pre class="chroma"> 安装 sudo：

  # pacman -S sudo

配置：
  # EDITOR=nano visudo

反注释该行（删去 # ）：

  # %wheel ALL=(ALL) ALL</pre></td></tr></table>
</div>
</div>
<p>5)将允许获取 root 权限的用户加入 wheel 用户组（若用户已在该组则跳过）</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">   # gpasswd -a &lt;用户名&gt; wheel</pre></td></tr></table>
</div>
</div>
<p>6)使用 sudo 时，在输入 &lt;命令&gt; 部分 Tab 补全会失效。如需启用 sudo 的 Tab 补全，执行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma"> $ sudo pacman -S  bash-completion
 $ echo complete -cf sudo &gt;&gt; ~/.bashrc</pre></td></tr></table>
</div>
</div></li>
</ol>

<p>15.声音管理</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></pre></td>
<td class="lntd">
<pre class="chroma">    1)安装 alsa-utils 

             # pacman -S alsa-utils

     2)配置：

             # alsamixer</pre></td></tr></table>
</div>
</div>
<ol>
<li><p>配置 GUI（图形用户界面）</p>

<p>1) 安装显卡驱动:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></pre></td>
<td class="lntd">
<pre class="chroma">    确定显卡型号：

              $ lspci | grep VGA

   对应可选驱动包：

Intel 显卡：xf86-video-intel
nVidia 显卡：
GeForce 7 以上：xf86-video-nouveau；nvidia
GeForce 6/7：xf86-video-nouveau；nvidia-304xx
AMD/ATI 显卡：xf86-video-ati；AMD Catalyst（Arch Wiki）</pre></td></tr></table>
</div>
</div>
<p>安装驱动：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">        # pacman -S &lt;驱动包&gt;</pre></td></tr></table>
</div>
</div>
<p>2)  安装 X 窗口系统:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></pre></td>
<td class="lntd">
<pre class="chroma"> X 窗口系统（X11/X）是诸多桌面环境的基础。

 安装 Xorg Server

             # pacman -S xorg-server xorg-server-utils xorg-xinit

 添加3D支持

           # pacman -S mesa

  添加触摸板支持

            # pacman -S xf86-input-synaptics
  安装字体

（推荐）Dejavu和文泉驿-微米黑：

            # pacman -S ttf-dejavu wqy-microhei</pre></td></tr></table>
</div>
</div></li>

<li><p>安装桌面环境</p></li>
</ol>

<p>Arch Linux 官方提供支持的桌面环境：
Cinnamon（官网）：cinnamon
Enlightenment（官网）：enlightenment17
GNOME（官网)：gnome、gnome-extra（附加功能包）
KDE（官网)：kde（完全版）、kdebase（基础版）、kde-l10n-zh_cn（简体中文包）
LXDE（官网)：lxde。
Xfce（官网)：xfce4、xfce4-goodies（附加功能包）
其他桌面环境：Arch Wiki
更加轻量级的窗口管理器：：Arch Wiki</p>

<p>安装：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">             # pacman -S &lt;桌面环境组&gt;</pre></td></tr></table>
</div>
</div>
<ol>
<li>启动桌面环境</li>
</ol>

<p>启动方式有两种：从命令行以 startx 启动；使用显示管理器（Display Manager）。</p>

<p>startx：（以GNOME为例）</p>

<p>配置：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">       $ cp /etc/skel/.xinitrc ~
       $ vi ~/.xinitrc</pre></td></tr></table>
</div>
</div>
<p>反注释对应行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">       # exec gnome-session</pre></td></tr></table>
</div>
</div>
<p>启动：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">       $ startx</pre></td></tr></table>
</div>
</div>
<p>显示管理器：（以GDM为例）
从命令行启动：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">       # systemctl start gdm.service</pre></td></tr></table>
</div>
</div>
<p>随系统启动：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">       # systemctl enable gdm.service</pre></td></tr></table>
</div>
</div>
<ol>
<li>安装输入法</li>
</ol>

<p>fcitx：</p>

<p>安装：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">     # pacman -S fcitx-im</pre></td></tr></table>
</div>
</div>
<p>配置：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></pre></td>
<td class="lntd">
<pre class="chroma">     export GTK_IM_MODULE=fcitx
     export QT_IM_MODULE=fcitx
     export XMODIFIERS=&#34;@im=fcitx&#34;</pre></td></tr></table>
</div>
</div>
<p>KDM、GDM、LightDM 等显示管理器的用户，向 ~/.xprofile添加以上内容。
使用 startx 或 slim 的用户，向 ~/.xinitrc 添加以上内容。
为在GNOME上使用fcitx，需禁用iBus：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">     $ gsettings set org.gnome.settings-daemon.plugins.keyboard active false</pre></td></tr></table>
</div>
</div>
<ol>
<li>AUR（Arch 用户软件仓库）</li>
</ol>

<p>Arch Linux预设几个软件仓库中可能没有用户需要的软件包。遇到这种情况时，
可上AUR检索。AUR是是为用户而建、由用户主导的Arch软件仓库。AUR中的
软件包以软件包生成脚本（PKGBUILD）的形式提供，用户自己通过makepkg
生成包，再由pacman安装。创建AUR的初衷是方便用户维护和分享新软件包，
并由官方定期从中挑选软件包进入[community]仓库。
Yaourt是由社区编写的脚本，方便用户从AUR上获取需要的软件。以下介绍
Yaourt的安装和使用。</p>

<p>1) 安装</p>

<p>Yaourt并不在官方软件源中，除从AUR中安装，还可通过第三方软件源进行安装：</p>

<p>添加软件源：</p>

<p>将下列内容添加至 /etc/pacman.conf ：</p>

<p>源1：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></pre></td>
<td class="lntd">
<pre class="chroma">           [archlinuxfr]
           SigLevel = Never
           Server = http://repo.archlinux.fr/$arch</pre></td></tr></table>
</div>
</div>
<p>源2（Arch Linux CN 友情提供 :) ）：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></pre></td>
<td class="lntd">
<pre class="chroma">         [archlinuxcn]
         SigLevel = Never
         Server = http://repo.archlinuxcn.org/$arch</pre></td></tr></table>
</div>
</div>
<p>安装：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">         # pacman -Sy base-devel yaourt</pre></td></tr></table>
</div>
</div>
<p>2) 使用</p>

<p>Yaourt 可以安装来自官方源的软件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">         $ yaourt &lt;软件名&gt;</pre></td></tr></table>
</div>
</div>
<p>更新所有包（包括来自官方源的包）：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">         $ yaourt -Syua</pre></td></tr></table>
</div>
</div>
<p>搜索：</p>

<p>$ yaourt &lt;关键字&gt;</p>

    </div>
    
  </div>
</article>

    
      <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2014-04-04-about-redis/">关于开源软件redis</a></h1>
    
    <div class="post-meta">
      <span class="post-time"> 2014-04-04 </span>
      
      <span class="more-meta"> 约 131 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      <p>最近读redis代码，redis是一个key-value存储系统,详情请看官网介绍<a href="http://redis.io/">redis</a>，仅2万多行代码，实现如此强大的
功能，真是让人不由的惊叹！而且代码是非常之漂亮, <a href="http://redisbook.com/en/latest/">《redis设计与实现》</a>可以帮助你了解redis
的具体实现，<a href="https://github.com/antirez/redis">redis的github地址</a>。</p>

    </div>
    
  </div>
</article>

    
      <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2014-04-10-install-nginx-on-ubuntu/">nginx编译报错</a></h1>
    
    <div class="post-meta">
      <span class="post-time"> 2014-03-24 </span>
      
      <span class="more-meta"> 约 191 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      <p>在ubuntu(32bit)上安装nginx执行configure时遇到错误如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></pre></td>
<td class="lntd">
<pre class="chroma">./configure: error: the HTTP rewrite module requires the PCRE library.
You can either disable the module by using --without-http_rewrite_module
option, or install the PCRE library into the system, or build the PCRE library
statically from the source with nginx by using --with-pcre=&lt;path&gt; option.</pre></td></tr></table>
</div>
</div>
<p>貌似缺少pcre库，在网上搜了，说是需要安装pcre-devel,可是ubuntu上安装是找不到pcre-devel。
可能是名字变了，后来终于找到解决办法，需要安装 libpcre3 libpcre3-dev：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma"># sudo apt-get install libpcre3 libpcre3-dev</pre></td></tr></table>
</div>
</div>
    </div>
    
  </div>
</article>

    
  </section>

  
  



  
  
  

  
  

  
  

  
  

  
  
  <nav class="pagination">
    <ul>
      
      <li >
        <a href="/">1</a>
      </li>
      
      <li >
        <a href="/page/2/">2</a>
      </li>
      
      <li >
        <a href="/page/3/">3</a>
      </li>
      
      <li >
        <a href="/page/4/">4</a>
      </li>
      
      <li  class="active" >
        <a href="/page/5/">5</a>
      </li>
      
      <li >
        <a href="/page/6/">6</a>
      </li>
      
      <li >
        <a href="/page/7/">7</a>
      </li>
      
    </ul>
  </nav>

  
  





        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:lixiansir@email.com" rel="me noopener" class="iconfont icon-email"
        title="email" target="_blank">
      </a>
      <a href="https://twitter.com/lixiansir" rel="me noopener" class="iconfont icon-twitter"
        title="twitter" target="_blank">
      </a>
      <a href="https://plus.google.com/u/0/103504326647852949518" rel="me noopener" class="iconfont icon-google"
        title="google" target="_blank">
      </a>
      <a href="https://www.weibo.com/lionel0806" rel="me noopener" class="iconfont icon-weibo"
        title="weibo" target="_blank">
      </a>
  <a href="http://lionel0806.github.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml" class="iconfont icon-rss"
    title="rss" target="_blank">
  </a>
  </div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2015 -
    2018
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span><span class="author">Lionel Lee</span></span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
<script type="text/javascript" src="/dist/jane.min.js?v=2.7.0"></script>





  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  





</body>
</html>
